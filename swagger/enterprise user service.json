{"openapi":"3.0.0","paths":{"/":{"get":{"operationId":"AppController_getHello","parameters":[],"responses":{"200":{"description":""}},"tags":["App"]}},"/health":{"get":{"operationId":"HealthController_check","parameters":[],"responses":{"200":{"description":"The Health Check is successful","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","example":"ok"},"info":{"type":"object","example":{"database":{"status":"up"}},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true},"nullable":true},"error":{"type":"object","example":{},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true},"nullable":true},"details":{"type":"object","example":{"database":{"status":"up"}},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true}}}}}}},"503":{"description":"The Health Check is not successful","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","example":"error"},"info":{"type":"object","example":{"database":{"status":"up"}},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true},"nullable":true},"error":{"type":"object","example":{"redis":{"status":"down","message":"Could not connect"}},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true},"nullable":true},"details":{"type":"object","example":{"database":{"status":"up"},"redis":{"status":"down","message":"Could not connect"}},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true}}}}}}}},"tags":["Health"]}},"/api/v1/enterprises/{enterpriseId}/wallets":{"post":{"operationId":"WalletController_createWallet","parameters":[{"name":"enterpriseId","required":true,"in":"path","description":"Enterprise ID","schema":{"type":"string"}},{"name":"x-user-id","in":"header","description":"User ID from headers","required":true,"schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateEnterpriseWalletDto"}}}},"responses":{"201":{"description":""}},"summary":"Create a wallet for an enterprise","tags":["Enterprise Wallets"]},"get":{"operationId":"WalletController_getWallets","parameters":[{"name":"enterpriseId","required":true,"in":"path","description":"Enterprise ID","schema":{"type":"string"}},{"name":"x-user-id","in":"header","description":"User ID from headers","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":""}},"summary":"Get list of wallets for an enterprise","tags":["Enterprise Wallets"]}},"/enterprises/{enterpriseId}/users":{"post":{"description":"Create a enterprise user account.","operationId":"UserController_create","parameters":[{"name":"enterpriseId","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateUserDto"}}}},"responses":{"201":{"description":""}},"summary":"Create user","tags":["User"]},"get":{"description":"Search user by some param.","operationId":"UserController_find","parameters":[{"name":"page","required":true,"in":"query","description":"Page number","schema":{"example":1,"type":"number"}},{"name":"limit","required":true,"in":"query","description":"Limit per page (max: 200)","schema":{"example":10,"type":"number"}},{"name":"status","required":false,"in":"query","description":"User Status","schema":{"example":"ACTIVE","type":"string"}},{"name":"enterpriseId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"summary":"Search user","tags":["User"]}},"/enterprises/{enterpriseId}/users/{userId}":{"patch":{"description":"Alter user info.","operationId":"UserController_update","parameters":[{"name":"userId","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateUserDto"}}}},"responses":{"200":{"description":""}},"summary":"Alter user","tags":["User"]},"delete":{"description":"Delete a user.","operationId":"UserController_delete","parameters":[{"name":"userId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"summary":"Delete user","tags":["User"]}},"/enterprises/{enterpriseId}/users/{userId}/status":{"patch":{"description":"Alter user status.","operationId":"UserController_updateStatus","parameters":[{"name":"userId","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateStatusDto"}}}},"responses":{"200":{"description":""}},"summary":"Alter status","tags":["User"]}},"/enterprises/{enterpriseId}/users/activation":{"get":{"description":"Activate user by activation code.","operationId":"UserController_activateUser","parameters":[{"name":"enterpriseId","required":true,"in":"path","schema":{"type":"string"}},{"name":"userEmail","required":true,"in":"query","description":"User Email","schema":{"example":"user@example.com","type":"string"}},{"name":"code","required":true,"in":"query","description":"Activation Code","schema":{"example":"123456","type":"string"}}],"responses":{"200":{"description":""}},"summary":"Activate user","tags":["User"]}},"/enterprise/{enterpriseId}":{"get":{"operationId":"EnterpriseController_queryEnterpriseById","parameters":[{"name":"enterpriseId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"The enterprise has been successfully queried.","content":{"application/json":{"schema":{"allOf":[{"properties":{"success":{"type":"boolean","example":true,"description":"Business layer: whether the operation is successful"},"errorCode":{"type":"string","description":"Business layer: specific error code"},"message":{"type":"string","description":"Error message"},"data":{"type":"object","$ref":"#/components/schemas/QueryEnterpriseDto","description":"Actual data"},"meta":{"type":"object","properties":{"timestamp":{"type":"string","format":"date-time","example":"2025-06-26T08:59:29.034Z","description":"Response timestamp"},"requestId":{"type":"string","example":"req_123456789","description":"Request ID"},"pagination":{"type":"object","properties":{"page":{"type":"number","example":1},"limit":{"type":"number","example":10},"total":{"type":"number","example":100},"totalPages":{"type":"number","example":10}},"description":"Pagination information"}},"description":"Metadata"}}}]}}}}},"summary":"Enterprise admin query an enterprise by id","tags":["Enterprise"]}},"/enterprise":{"post":{"operationId":"EnterpriseController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateEnterpriseDto"}}}},"responses":{"200":{"description":"The enterprise has been successfully created.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateEnterpriseResponseDto"}}}}},"summary":"Enterprise admin create an enterprise","tags":["Enterprise"]}},"/roles":{"post":{"operationId":"RoleController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateRoleDto"}}}},"responses":{"200":{"description":"The role has been successfully created.","content":{"application/json":{"schema":{"allOf":[{"properties":{"success":{"type":"boolean","example":true,"description":"Business layer: whether the operation is successful"},"errorCode":{"type":"string","description":"Business layer: specific error code"},"message":{"type":"string","description":"Error message"},"data":{"type":"object","$ref":"#/components/schemas/CreateRoleData","description":"Actual data"},"meta":{"type":"object","properties":{"timestamp":{"type":"string","format":"date-time","example":"2025-06-26T08:59:29.051Z","description":"Response timestamp"},"requestId":{"type":"string","example":"req_123456789","description":"Request ID"},"pagination":{"type":"object","properties":{"page":{"type":"number","example":1},"limit":{"type":"number","example":10},"total":{"type":"number","example":100},"totalPages":{"type":"number","example":10}},"description":"Pagination information"}},"description":"Metadata"}}}]}}}}},"summary":"Enterprise admin create a role","tags":["Role Permissions"]}},"/{enterpriseId}/roles":{"get":{"operationId":"RoleController_getRoles","parameters":[{"name":"enterpriseId","required":true,"in":"path","description":"The enterprise ID","schema":{"example":"123e4567-e89b-12d3-a456-426614174000","type":"string"}}],"responses":{"200":{"description":"Permissions assigned.","content":{"application/json":{"schema":{"allOf":[{"properties":{"success":{"type":"boolean","example":true,"description":"Business layer: whether the operation is successful"},"errorCode":{"type":"string","description":"Business layer: specific error code"},"message":{"type":"string","description":"Error message"},"data":{"type":"object","$ref":"#/components/schemas/GetRolesResponseData","description":"Actual data"},"meta":{"type":"object","properties":{"timestamp":{"type":"string","format":"date-time","example":"2025-06-26T08:59:29.052Z","description":"Response timestamp"},"requestId":{"type":"string","example":"req_123456789","description":"Request ID"},"pagination":{"type":"object","properties":{"page":{"type":"number","example":1},"limit":{"type":"number","example":10},"total":{"type":"number","example":100},"totalPages":{"type":"number","example":10}},"description":"Pagination information"}},"description":"Metadata"}}}]}}}}},"summary":"Get role by enterprise ","tags":["Role Permissions"]}},"/{enterpriseId}/roles/{roleId}":{"get":{"operationId":"RoleController_getPermissions","parameters":[{"name":"enterpriseId","required":true,"in":"query","description":"The enterprise ID","schema":{"example":"123e4567-e89b-12d3-a456-426614174000","type":"string"}},{"name":"roleId","required":true,"in":"query","description":"The role ID","schema":{"example":1,"type":"number"}}],"responses":{"200":{"description":"Permissions assigned.","content":{"application/json":{"schema":{"allOf":[{"properties":{"success":{"type":"boolean","example":true,"description":"Business layer: whether the operation is successful"},"errorCode":{"type":"string","description":"Business layer: specific error code"},"message":{"type":"string","description":"Error message"},"data":{"type":"object","$ref":"#/components/schemas/PermissionDetailResponse","description":"Actual data"},"meta":{"type":"object","properties":{"timestamp":{"type":"string","format":"date-time","example":"2025-06-26T08:59:29.052Z","description":"Response timestamp"},"requestId":{"type":"string","example":"req_123456789","description":"Request ID"},"pagination":{"type":"object","properties":{"page":{"type":"number","example":1},"limit":{"type":"number","example":10},"total":{"type":"number","example":100},"totalPages":{"type":"number","example":10}},"description":"Pagination information"}},"description":"Metadata"}}}]}}}}},"summary":"Get permission by enterprise and role ","tags":["Role Permissions"]},"patch":{"operationId":"RoleController_updateRolePermissions","parameters":[{"name":"enterpriseId","required":true,"in":"path","schema":{"type":"string"}},{"name":"roleId","required":true,"in":"path","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateRolePermissionsDto"}}}},"responses":{"200":{"description":"true","content":{"application/json":{"schema":{"allOf":[{"properties":{"success":{"type":"boolean","example":true,"description":"Business layer: whether the operation is successful"},"errorCode":{"type":"string","description":"Business layer: specific error code"},"message":{"type":"string","description":"Error message"},"data":{"type":"null","description":"Actual data"},"meta":{"type":"object","properties":{"timestamp":{"type":"string","format":"date-time","example":"2025-06-26T08:59:29.052Z","description":"Response timestamp"},"requestId":{"type":"string","example":"req_123456789","description":"Request ID"},"pagination":{"type":"object","properties":{"page":{"type":"number","example":1},"limit":{"type":"number","example":10},"total":{"type":"number","example":100},"totalPages":{"type":"number","example":10}},"description":"Pagination information"}},"description":"Metadata"}}}]}}}}},"summary":"Update permissions for a specific role","tags":["Role Permissions"]},"delete":{"operationId":"RoleController_deleteRole","parameters":[{"name":"enterpriseId","required":true,"in":"path","schema":{"type":"string"}},{"name":"roleId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"true","content":{"application/json":{"schema":{"allOf":[{"properties":{"success":{"type":"boolean","example":true,"description":"Business layer: whether the operation is successful"},"errorCode":{"type":"string","description":"Business layer: specific error code"},"message":{"type":"string","description":"Error message"},"data":{"type":"null","description":"Actual data"},"meta":{"type":"object","properties":{"timestamp":{"type":"string","format":"date-time","example":"2025-06-26T08:59:29.052Z","description":"Response timestamp"},"requestId":{"type":"string","example":"req_123456789","description":"Request ID"},"pagination":{"type":"object","properties":{"page":{"type":"number","example":1},"limit":{"type":"number","example":10},"total":{"type":"number","example":100},"totalPages":{"type":"number","example":10}},"description":"Pagination information"}},"description":"Metadata"}}}]}}}}},"summary":"Delete a role (Enterprise owner only)","tags":["Role Permissions"]}}},"info":{"title":"Jupiter Api Doc","description":"API description","version":"1.0","contact":{}},"tags":[],"servers":[],"components":{"schemas":{"CreateEnterpriseWalletDto":{"type":"object","properties":{"enterpriseId":{"type":"string","example":"123456789012"},"customerRefId":{"type":"string","example":"A1B2C3D4E5F6G7H8I9J0K1L2M3N4O5P6"},"walletName":{"type":"string","example":"Main Investment Wallet"},"userId":{"type":"string","example":"1"}},"required":["walletName"]},"CreateUserDto":{"type":"object","properties":{"lastName":{"type":"string","description":"Last Name","example":"hu"},"firstName":{"type":"string","description":"First Name","example":"john.doe"},"email":{"type":"string","description":"Email","example":"john.doe@example.com"},"password":{"type":"string","description":"User password (should be encrypted before sending)","example":"hashedPassword123"},"roleId":{"type":"number","description":"Role ID","example":3}},"required":["lastName","firstName","email","password","roleId"]},"UpdateUserDto":{"type":"object","properties":{"lastName":{"type":"string","description":"User Last Name","example":"lin"},"firstName":{"type":"string","description":"User First Name","example":"qiang"},"roleId":{"type":"number","description":"Role ID","example":5}}},"UpdateStatusDto":{"type":"object","properties":{"status":{"type":"string","description":"User Status","example":"INACTIVE"}}},"CreateEnterpriseDto":{"type":"object","properties":{"email":{"type":"string","description":"The email of the user","example":"jupiter@jupiter.com"},"firstName":{"type":"string","description":"The first name of the user","example":"jupiter"},"lastName":{"type":"string","description":"The last name of the user","example":"jupiter"},"password":{"type":"string","description":"The password of the user","example":"123456"},"name":{"type":"string","description":"The name of the enterprise","example":"Jupiter"},"verificationCode":{"type":"string","description":"The verification code of the email","example":"123456"}},"required":["email","firstName","lastName","password","name","verificationCode"]},"CreateEnterpriseResponseDto":{"type":"object","properties":{"id":{"type":"string","description":"The id of the enterprise","example":"123456"}},"required":["id"]},"CreateRoleDto":{"type":"object","properties":{"enterpriseId":{"type":"string","description":"The enterprise ID","example":"123e4567-e89b-12d3-a456-426614174000"},"roleName":{"type":"string","description":"The role name","example":"Admin"},"description":{"type":"string","description":"The description of the role","example":"Admin"},"permissions":{"description":"The list of permission IDs","example":[1,2,3],"type":"array","items":{"type":"string"}}},"required":["enterpriseId","roleName","permissions"]},"UpdateRolePermissionsDto":{"type":"object","properties":{"permissions":{"description":"Array of permission IDs","example":[101,102,105],"type":"array","items":{"type":"number"}},"roleName":{"type":"string","description":"Role name (optional)","example":"FinanceAdmin"},"description":{"type":"string","description":"Role description (optional)","example":"Can manage company finance"}},"required":["permissions"]}}}}